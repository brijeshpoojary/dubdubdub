{% extends 'base.html' %}
{% block page_title %} DISE Ad-hoc Reports {% endblock %}

{% block content %}
<div class="container">
  <h1 class="heading-primary brand-purple" id="top">Reports</h1>
</div>

<div class="center-text">
  <h2 class="heading-section">Reports</h2>
  <form class="form-base">
    <div class="heading-section-block">
      <div class="grid-parent">
        <div class="form-field-wrap col-25-flt">
          <label class="label-inline bold">Academic Year</label>
          <select id="adhoc-dise-acyear">
            <option value='10-11'>2010-2011</option>
            <option value='11-12'>2011-2012</option>
            <option value='12-13'>2012-2013</option>
            <option value='13-14'>2013-2014</option>
            <option value='14-15'>2014-2015</option>
          </select>
        </div>
        <div class="form-field-wrap col-25-flt">
          <label class="label-inline bold">Admin Level</label>
          <select id="adhoc-dise-admin">
            <option value=''>Select an admin level</option>
            <option value='cluster'>Cluster</option>
            <option value='block'>Block</option>
            <option value='district'>District</option>
            <option value='mp'>Parliamentary Constitution (MP)</option>
            <option value='mla'>Assembly Constitution (MLA)</option>
          </select>
        </div>
      </div>
      <div>
        <div class="adhoc-admin form-field-wrap col-25-flt" style="display:none">
          <label class="label-inline bold">District</label>
          <select id="adhoc-dise-district">

          </select>
        </div>
        <div class="adhoc-admin form-field-wrap col-25-flt" style="display:none">
          <label class="label-inline bold">Block</label>
          <select id="adhoc-dise-block">

          </select>
        </div>
        <div class="adhoc-admin form-field-wrap col-25-flt" style="display:none">
          <label class="label-inline bold">Cluster</label>
          <select id="adhoc-dise-cluster">

          </select>
        </div>
        <div class="adhoc-admin form-field-wrap col-25-flt" style="display:none">
          <label class="label-inline bold">MP</label>
          <select id="adhoc-dise-mp">

          </select>
        </div>
        <div class="adhoc-admin form-field-wrap col-25-flt" style="display:none">
          <label class="label-inline bold">MLA</label>
          <select id="adhoc-dise-mla">

          </select>
        </div>
      </div>
    </div>
  </form>
</div>

<div class="backToTop">
  <a href="#top">Back to top</a>
</div>

{% endblock %}

{% block endbody %}
<script type="text/javascript">
  var fillAdmin = function(adminlevel) {
    if (adminlevel === 'cluster') {
      var block = $('#adhoc-dise-block').val();
      if (block) {

      }
    } else if (adminlevel === 'block') {
      $('#adhoc-dise-district').parent('div').show();
      $('#adhoc-dise-block').parent('div').show();
    } else if (adminlevel === 'district') {
      $('#adhoc-dise-district').parent('div').show();
    } else if (adminlevel === 'mp') {
      $('#adhoc-dise-mp').parent('div').show();
    } else if (adminlevel === 'mla') {
      $('#adhoc-dise-mla').parent('div').show();
    }
  }

  $('#adhoc-dise-acyear').select2().on('change', function(e) {
    console.log(e);
  });
  $('#adhoc-dise-admin').select2().on('select2-selecting', function(e) {
    console.log(e);
    $('.adhoc-admin').hide();
    if (e.val === 'cluster') {
      $('#adhoc-dise-district').parent('div').show();
      $('#adhoc-dise-block').parent('div').show();
      $('#adhoc-dise-cluster').parent('div').show();
    } else if (e.val === 'block') {
      $('#adhoc-dise-district').parent('div').show();
      $('#adhoc-dise-block').parent('div').show();
    } else if (e.val === 'district') {
      $('#adhoc-dise-district').parent('div').show();
    } else if (e.val === 'mp') {
      $('#adhoc-dise-mp').parent('div').show();
    } else if (e.val === 'mla') {
      $('#adhoc-dise-mla').parent('div').show();
    }
  });
  $('#adhoc-dise-boundary').select2();
  $('#adhoc-dise-admin').select2();
  $('#adhoc-dise-block').select2();
  $('#adhoc-dise-cluster').select2();
  $('#adhoc-dise-mp').select2();
  $('#adhoc-dise-mla').select2();
</script>
{% endblock endbody %}
