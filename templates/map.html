{% extends "base.html" %}
{% load staticfiles %}
{% load compress %}

{% block page_title %}School Map{% endblock %}

{% block endbody %}
    {% compress js %}
      <script type="text/javascript" src="{% static 'js/highcharts/highcharts.js' %}"></script>
      <script type="text/javascript" src="{% static 'js/lib/swig.min.js' %}"></script>
      <script type="text/javascript" src="{% static 'js/lib/swig.filters.js' %}"></script>
      <script type="text/javascript" src="{% static 'js/common/comparison.js' %}"></script>
      <script type="text/javascript" src="{% static 'js/common/charts.js' %}"></script>
      <script type="text/javascript" src="{% static 'js/common/share_story.js' %}"></script>
      <script type="text/javascript" src="{% static 'js/map/init.js' %}"></script>
      <script type="text/javascript" src="{% static 'js/map/router.js' %}"></script>
      <script type="text/javascript" src="{% static 'js/map/map.js' %}"></script>
      <!-- <script type="text/javascript" src="{% static 'js/map/volunteer_modal.js' %}"></script> -->
      <script type="text/javascript" src="{% static 'js/map/place_info.js' %}"></script>
      <script type="text/javascript" src="{% static 'js/map/filters_modal.js' %}"></script>
      <!-- <script type="text/javascript" src="{% static 'js/map/volunteer_filters.js' %}"></script> -->
      <script type="text/javascript" src="{% static 'js/lib/leaflet-0.7.3/leaflet.js' %}"></script>
      <script type="text/javascript" src="{% static 'js/lib/marker-cluster/leaflet.markercluster.js' %}"></script>
      <script type="text/javascript" src="{% static 'js/lib/leaflet-draw/leaflet.draw.js' %}"></script>
      <script type="text/javascript" src="{% static 'js/lib/spin.min.js' %}"></script>
      <script type="text/javascript" src="{% static 'js/lib/leaflet.spin.js' %}"></script>
    {% endcompress %}

    <!--
    <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?sensor=false"></script>
  <script type="text/javascript" src="http://hpneo.github.io/gmaps/gmaps.js"></script>
  -->

    <link rel="stylesheet" href="{% static 'js/lib/leaflet-0.7.3/leaflet.css' %}" />
    <link rel="stylesheet" href="{% static 'js/lib/marker-cluster/MarkerCluster.Default.css' %}" />
    <link rel="stylesheet" href="{% static 'js/lib/marker-cluster/MarkerCluster.css' %}" />
    <link rel="stylesheet" type="text/css" href="{% static 'js/lib/leaflet-draw/leaflet.draw.css' %}">
    <link rel="stylesheet" href="{% static 'css/map.css' %}" />

    <!-- <script type="text/javascript" src="{% static 'js/inline-map.js' %}"></script> -->
{% endblock %}

{% block css_extra %}
  <style>
    .subheader-wrapper {
      position: fixed;
      left: 0;
      right: 0;
      top: 42px; /* must match sass variable $header height */
      z-index: 1;
    }
  </style>
{% endblock %}

{% block subheader %}
  <div class="map-subheader-wrapper subheader-wrapper">
    <div class="subheader-content">
      <input type="text" name="search" placeholder="Search" class="search-input input-text">
<!--       <div class="volunteer-btn-wrapper fr">
        <a class="button blue js-volunteer-trigger">Volunteer</a>
      </div> -->

      <div class="clr"></div>
    </div>
  </div>
{% endblock %}

{% block content %}


  <div class="map_page no-sidebar">
    <section class="map-canvas-full">
      <div id="map_canvas"></div>
    </section>

<!--     <div class="map-tools">
      <a class="tool tool-filter" id="filter-button"></a>
      <div class="divider"></div>
      <a class="tool tool-radius" id="filter-radius-button"></a>
      <div class="divider"></div>
      <a class="tool tool-layers js-toggle-layers-list"></a>
    </div> -->


    <div class="msg-filter-radius hide" id="msg-filter-radius">Click and drag on the map to draw circle</div>

    <section id="compare_flow" class="school-comparison-flow is-map-page hide">
      <div class="content">
        <div class="compare-box">
          <a href="#" class="button-close js-comparison-close" title="Close"><span></span></a>

          <div class="vs-separator">
            <!-- <a href="" class="label fl js-comparison-clear-left">clear</a> -->
            <div class="label bg fl">Comparing</div>
            <a href="" class="label fl js-comparison-clear-right">clear</a>
            <div class="vr"></div>
            <div class="vs-label">vs</div>
          </div>

          <div class="info school left-align js-comparison-option-left">

          </div>

          <div class="info school-district right-align hide js-comparison-option-right">

          </div>

          <div class="info default right-align js-comparison-default-right">
            <a href="" class="title-select ta-r mar_top_15 js-comparison-show-options-right">
              <span class="button-hollow">Click to search for an entity</span>
            </a>
            <!-- <div class="text-select ta-r">or select one by clicking a pin on the map below</div> -->

            <div class="clr"></div>
          </div>
          <div class="clr"></div>

          <a href="" class="btn compare-now js-btn-compare">Compare now</a>
          <a href="" class="btn cancel js-btn-cancel js-comparison-close show">Cancel</a>
        </div>

        <div class="comparison-result-wrapper js-comparison-result-wrapper">

        </div>

      </div>

      <div class="dropdown-wrapper" id="dropdown_wrapper">
        <div class="triangle"></div>
        <div class="search-box">
          <input type="text" id="comparison-search-select" class="input-search" placeholder="Search"/>
          <!-- <a href="" class="icon"><i class="icon-search"></i></a> -->
          <div class="clr"></div>
        </div>
      </div>
    </section>

    <section id="map_overlay" class="map_overlay hide">
      <a href="" class="button-close js-close-info" title="Close"><span></span></a>
      <div class="content"></div>
    </section>

    <div class="mobile-details-wrapper" id="mobile-details-wrapper"></div>

  </div>

  {% include 'frontend_templates/map.html' %}

  <div id="modal_overlay" class="modal-overlay"></div>
  <div id="modal_wrapper"></div>

  {% include 'frontend_templates/compare.html' %}
  
{% endblock %}
